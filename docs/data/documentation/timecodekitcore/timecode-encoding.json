{"abstract":[{"type":"text","text":"Encoding and Decoding timecode for the pasteboard and drag events."}],"identifier":{"url":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode-Encoding","interfaceLanguage":"swift"},"variants":[{"paths":["\/documentation\/timecodekitcore\/timecode-encoding"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore"]]},"kind":"article","metadata":{"roleHeading":"API Collection","title":"Encoding","modules":[{"name":"TimecodeKitCore"}],"role":"collectionGroup"},"sections":[],"topicSections":[{"title":"NSItemProvider","anchor":"NSItemProvider","identifiers":["doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/init(from:propertiesForString:)-7hl9l","doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/init(from:propertiesForString:)-1cqhu","doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/itemProviders(stringFormat:)"]},{"anchor":"Transferable","identifiers":["doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/transferRepresentation"],"title":"Transferable"},{"identifiers":["doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/UniformTypeIdentifiers\/UTType\/timecode","doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/textUTType","doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/copyUTTypes","doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/pasteUTTypes"],"title":"UT Types","anchor":"UT-Types"}],"primaryContentSections":[{"content":[{"anchor":"overview","type":"heading","level":2,"text":"Overview"},{"inlineContent":[{"text":"TimecodeKit includes support for encoding and decoding ","type":"text"},{"type":"reference","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode","isActive":true},{"type":"text","text":" instances and timecode strings when:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"copying to the pasteboard \/ pasting from the pasteboard"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"drag & drop operations"}]}]}],"type":"unorderedList"},{"text":"UT Types","level":2,"anchor":"UT-Types","type":"heading"},{"inlineContent":[{"text":"To support exchange of ","type":"text"},{"isActive":true,"identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode","type":"reference"},{"text":" instances, your app needs to export its UT Type.","type":"text"}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"In the app project, select your appâ€™s target and switch to the Info tab","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Open the "},{"inlineContent":[{"type":"text","text":"Exported Type Identifiers"}],"type":"strong"},{"text":" section","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Add a new entry by clicking the "},{"code":"+","type":"codeVoice"},{"text":" button","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Enter the following data in the corresponding fields:","type":"text"}],"type":"paragraph"},{"rows":[[[{"inlineContent":[{"type":"text","text":"Field"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"Content","type":"text"}]}]],[[{"inlineContent":[{"text":"Description","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"code":"Timecode","type":"codeVoice"}]}]],[[{"inlineContent":[{"type":"text","text":"Identifier"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"com.orchetect.TimecodeKit.timecode"}]}]]],"header":"row","type":"table"}]}]},{"inlineContent":[{"type":"image","identifier":"app-target-exported-types.png"}],"type":"paragraph"},{"text":"NSItemProvider","type":"heading","anchor":"NSItemProvider","level":2},{"inlineContent":[{"identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode","type":"reference","isActive":true},{"type":"text","text":" supports encoding and decoding timecode using one or more "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/nsitemprovider"},{"type":"text","text":" instances."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"In AppKit, UIKit and SwiftUI, "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/nsitemprovider","overridingTitle":"NSItemProvider","overridingTitleInlineContent":[{"code":"NSItemProvider","type":"codeVoice"}]},{"type":"text","text":" is used commonly to exchange content with the pasteboard."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"When using the associated methods, timecode will generate two item providers:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A plain-text timecode string"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"A lossless JSON-encoded representation","type":"text"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This means that the end-user is able to:"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"paste or drag as a timecode string to any 3rd-party application that can receive plain-text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"paste or drag to paste destinations within your app that accept the ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/UniformTypeIdentifiers\/UTType\/timecode"},{"text":" UT Type","type":"text"}]}]}],"type":"unorderedList"},{"syntax":"swift","type":"codeListing","code":["struct TimecodeListView: View {","    @State var model: [Timecode]","    @State var selection: Timecode","    ","    var body: some View {","        List(selection: $selection) {","            ForEach(model) { item in","                Text(item.stringValue()).tag(item)","            }","        }","        .onCopyCommand {","            selection.itemProviders()","        }","        .onPasteCommand(of: [.timecode]) { itemProviders in","            Task {","                try await add(itemFrom: itemProviders)","            }","        }","    }","    ","    func add(itemFrom itemProviders: [NSItemProvider]) async throws {","        \/\/ Provide default properties in case only a timecode string is present,","        \/\/ which could be the case if the user copies a plain-text timecode string","        \/\/ from another application. If the timecode data on the pasteboard was","        \/\/ originally created using Timecode's itemProviders() method, then","        \/\/ these properties will be ignored, as the pasteboard will contain lossless","        \/\/ data with which to decode to the new Timecode instance.","        let properties = Timecode.Properties(rate: .fps24)","        let timecode = try await Timecode(","            from: itemProviders,","            propertiesForString: properties","        )","        ","        \/\/ Timecode's default Identifiable implementation uses self","        \/\/ which means we cannot have two identical timecodes in a SwiftUI array","        if !model.contains(timecode) { model.append(timecode) }","    }","}"]},{"text":"Transferable","type":"heading","level":2,"anchor":"Transferable"},{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode","type":"reference","isActive":true},{"type":"text","text":" conforms to the "},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/coretransferable\/transferable","type":"reference"},{"type":"text","text":" protocol which allows instances to be dragged & dropped or copied to\/from the clipboard using declarative SwiftUI syntax."}]},{"type":"paragraph","inlineContent":[{"text":"The following example demonstrates a timecode list that supports copy and paste as well as drag and drop in order to copy items to another paste destination (such as a second instance of this view).","type":"text"}]},{"code":["struct TimecodeListView: View {","    @State var model: [Timecode]","    @State var selection: Timecode","    ","    var body: some View {","        List(selection: $selection) {","            ForEach(model) { item in","                Text(item.stringValue()).tag(item)","            }","            .dropDestination(for: Timecode.self) { items, location in","                add(items: items)","                return true","            }","        }","        .copyable([selection])","        .pasteDestination(for: Timecode.self) { items in","            add(items: items)","        }","    }","    ","    func add(items: [Timecode]) {","        \/\/ Timecode's default Identifiable implementation uses self","        \/\/ which means we cannot have two identical timecodes in a SwiftUI array","        items.forEach {","            if !model.contains($0) { model.append($0) }","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"If SwiftUI methods using the ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/coretransferable\/transferable","overridingTitleInlineContent":[{"type":"codeVoice","code":"Transferable"}],"type":"reference","isActive":true,"overridingTitle":"Transferable"},{"type":"text","text":" protocol are invoked without exporting this UT Type, this error will be thrown:"}]},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Type \"com.orchetect.TimecodeKit.timecode\" was expected to be declared and exported in the Info.plist of MyApp.app, but it was not found."}]},{"type":"paragraph","inlineContent":[{"text":"See UT Types section above for information on how to export this type in your app.","type":"text"}]}],"name":"Important","style":"important"}],"kind":"content"}],"schemaVersion":{"minor":3,"major":0,"patch":0},"references":{"app-target-exported-types.png":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/TimecodeKitCore\/app-target-exported-types.png"}],"identifier":"app-target-exported-types.png","alt":"Exported Types"},"doc://TimecodeKitCore/documentation/TimecodeKitCore/Timecode/pasteUTTypes":{"abstract":[{"type":"text","text":"All supported UT Types for pasting from the pasteboard or dropping a dragged item."}],"title":"pasteUTTypes","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/pasteUTTypes","type":"topic","url":"\/documentation\/timecodekitcore\/timecode\/pasteuttypes","kind":"symbol","fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"pasteUTTypes","kind":"identifier"},{"text":": [","kind":"text"},{"preciseIdentifier":"s:22UniformTypeIdentifiers6UTTypeV","kind":"typeIdentifier","text":"UTType"},{"kind":"text","text":"]"}],"role":"symbol"},"doc://TimecodeKitCore/documentation/TimecodeKitCore/Timecode/copyUTTypes":{"identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/copyUTTypes","url":"\/documentation\/timecodekitcore\/timecode\/copyuttypes","abstract":[{"type":"text","text":"All supported UT Types for copying to the pasteboard or dragging an item."}],"kind":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"copyUTTypes","kind":"identifier"},{"text":": [","kind":"text"},{"kind":"typeIdentifier","text":"UTType","preciseIdentifier":"s:22UniformTypeIdentifiers6UTTypeV"},{"text":"]","kind":"text"}],"title":"copyUTTypes","role":"symbol"},"doc://TimecodeKitCore/documentation/TimecodeKitCore/Timecode/init(from:propertiesForString:)-7hl9l":{"fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"from","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"NSItemProvider","kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSItemProvider"},{"text":", ","kind":"text"},{"text":"propertiesForString","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:15TimecodeKitCore0A0V","kind":"typeIdentifier","text":"Timecode"},{"text":".","kind":"text"},{"preciseIdentifier":"s:15TimecodeKitCore0A0V10PropertiesV","kind":"typeIdentifier","text":"Properties"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"keyword","text":"throws"}],"role":"symbol","type":"topic","url":"\/documentation\/timecodekitcore\/timecode\/init(from:propertiesforstring:)-7hl9l","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/init(from:propertiesForString:)-7hl9l","abstract":[{"text":"Decode the content of an ","type":"text"},{"type":"codeVoice","code":"NSItemProvider"},{"text":" as a new ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode"},{"text":" instance.","type":"text"}],"kind":"symbol","title":"init(from:propertiesForString:)"},"doc://TimecodeKitCore/documentation/TimecodeKitCore/Timecode":{"kind":"symbol","abstract":[{"type":"text","text":"Value type representing SMPTE\/EBU timecode."}],"type":"topic","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Timecode","kind":"identifier"}],"title":"Timecode","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode","navigatorTitle":[{"kind":"identifier","text":"Timecode"}],"role":"symbol","url":"\/documentation\/timecodekitcore\/timecode"},"doc://TimecodeKitCore/documentation/TimecodeKitCore/Timecode/itemProviders(stringFormat:)":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"itemProviders"},{"kind":"text","text":"("},{"kind":"externalParam","text":"stringFormat"},{"kind":"text","text":": "},{"text":"Timecode","preciseIdentifier":"s:15TimecodeKitCore0A0V","kind":"typeIdentifier"},{"text":".","kind":"text"},{"text":"StringFormat","kind":"typeIdentifier","preciseIdentifier":"s:15TimecodeKitCore0A0V12StringFormata"},{"text":") -> [","kind":"text"},{"kind":"typeIdentifier","text":"NSItemProvider","preciseIdentifier":"c:objc(cs)NSItemProvider"},{"text":"]","kind":"text"}],"role":"symbol","type":"topic","url":"\/documentation\/timecodekitcore\/timecode\/itemproviders(stringformat:)","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/itemProviders(stringFormat:)","abstract":[{"text":"Generates item providers for copying the ","type":"text"},{"type":"reference","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode","isActive":true},{"text":" instance to the pasteboard.","type":"text"}],"kind":"symbol","title":"itemProviders(stringFormat:)"},"doc://TimecodeKitCore/documentation/TimecodeKitCore/Timecode/init(from:propertiesForString:)-1cqhu":{"url":"\/documentation\/timecodekitcore\/timecode\/init(from:propertiesforstring:)-1cqhu","abstract":[{"type":"text","text":"Decode the content of a "},{"code":"NSItemProvider","type":"codeVoice"},{"text":" collection as a new ","type":"text"},{"type":"reference","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode","isActive":true},{"type":"text","text":" instance."}],"title":"init(from:propertiesForString:)","type":"topic","kind":"symbol","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/init(from:propertiesForString:)-1cqhu","role":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"from"},{"text":": [","kind":"text"},{"preciseIdentifier":"c:objc(cs)NSItemProvider","text":"NSItemProvider","kind":"typeIdentifier"},{"text":"], ","kind":"text"},{"kind":"externalParam","text":"propertiesForString"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:15TimecodeKitCore0A0V","text":"Timecode"},{"kind":"text","text":"."},{"text":"Properties","kind":"typeIdentifier","preciseIdentifier":"s:15TimecodeKitCore0A0V10PropertiesV"},{"text":") ","kind":"text"},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"text":"throws","kind":"keyword"}]},"doc://TimecodeKitCore/documentation/TimecodeKitCore/UniformTypeIdentifiers/UTType/timecode":{"abstract":[{"text":"UT Type defined in TimecodeKit to globally identify ","type":"text"},{"type":"reference","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode","isActive":true},{"type":"text","text":" instances."}],"title":"timecode","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/UniformTypeIdentifiers\/UTType\/timecode","type":"topic","url":"\/documentation\/timecodekitcore\/uniformtypeidentifiers\/uttype\/timecode","kind":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"timecode","kind":"identifier"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:22UniformTypeIdentifiers6UTTypeV","text":"UTType"}],"role":"symbol"},"doc://TimecodeKitCore/documentation/TimecodeKitCore/Timecode/transferRepresentation":{"type":"topic","title":"transferRepresentation","kind":"symbol","role":"symbol","url":"\/documentation\/timecodekitcore\/timecode\/transferrepresentation","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/transferRepresentation","abstract":[],"fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"text":"transferRepresentation","kind":"identifier"},{"kind":"text","text":": "},{"text":"some","kind":"keyword"},{"kind":"text","text":" "},{"preciseIdentifier":"s:16CoreTransferable22TransferRepresentationP","text":"TransferRepresentation","kind":"typeIdentifier"}]},"https://developer.apple.com/documentation/foundation/nsitemprovider":{"type":"link","titleInlineContent":[{"code":"NSItemProvider","type":"codeVoice"}],"title":"NSItemProvider","identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/nsitemprovider","url":"https:\/\/developer.apple.com\/documentation\/foundation\/nsitemprovider"},"doc://TimecodeKitCore/documentation/TimecodeKitCore/Timecode/textUTType":{"identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode\/textUTType","url":"\/documentation\/timecodekitcore\/timecode\/textuttype","abstract":[{"type":"text","text":"The UT Type used to encode "},{"type":"reference","identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore\/Timecode","isActive":true},{"text":" as plain text.","type":"text"}],"kind":"symbol","type":"topic","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"textUTType"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:22UniformTypeIdentifiers6UTTypeV","text":"UTType"}],"title":"textUTType","role":"symbol"},"https://developer.apple.com/documentation/coretransferable/transferable":{"type":"link","titleInlineContent":[{"code":"Transferable","type":"codeVoice"}],"title":"Transferable","identifier":"https:\/\/developer.apple.com\/documentation\/coretransferable\/transferable","url":"https:\/\/developer.apple.com\/documentation\/coretransferable\/transferable"},"doc://TimecodeKitCore/documentation/TimecodeKitCore":{"identifier":"doc:\/\/TimecodeKitCore\/documentation\/TimecodeKitCore","type":"topic","role":"collection","abstract":[{"text":"Value types and related logic for representing and working with SMPTE\/EBU timecode.","type":"text"}],"title":"TimecodeKitCore","url":"\/documentation\/timecodekitcore","kind":"symbol"}}}